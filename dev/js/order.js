

let sgproduct=[
    {
       "spId":1001,
       "spName":"養身紫米飯",
       "spPrice":15,
       "spCalories":80,
       "spColdHot":52,
       "spHealth":82,
       "spClass":0,
       "spInfo":"紫米是香米的一種，富含蛋白質、醣類、不飽和脂肪酸、維生素B1、維生素B2、鈣、磷、鐵、鎂、鋅等礦物質和天然黑色素，還含有人體必需胺基酸。黑紫米因產量稀少，營養價值高，歷代帝王，將它視為貢品。台灣的紫米屬於零星種植，最多見於無污染的花蓮、台東地區水田中，紫米於低海拔的生長環境時，一年只能收成一次。",
       "spImage":"./images/bandon_include/PurpleRicePic.png",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1002,
       "spName":'台東池上白米' ,
       "spPrice":10,
       "spCalories":150,
       "spColdHot":67,
       "spHealth":65,
       "spClass":0,
       "spInfo":"台東擁有得天獨厚的天然環境，加上辛勤耕作的池上稻農，讓池上米連續三屆榮獲全國「冠軍米」頭銜。寶島食堂也嚴選台東在地池上特等米，香Q的池上特等米搭配任何主食及配菜，讓每個自選便當都是最美味的便當。",
       "spImage":"./images/bandon_include/RicePic.png",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1004,
       "spName":"炸雞腿",
       "spPrice":45,
       "spCalories":370,
       "spColdHot":95,
       "spHealth":28,
       "spClass":1,
       "spInfo":"炸雞是許多人心中的國民美食，也是台灣常見的小吃，香酥又會噴肉汁的炸雞，可以說是最邪惡的嘴饞美食，寶島食堂的獨門醃料，外皮薄脆，肉質吃起來鮮嫩多汁，鹹香夠味的會一隻接一隻吃不停 。",
       "spImage":"./images/bandon_include/chicken.png",
       "spMeat":1,
       "spStatus":1
    },
    {
       "spId":1005,
       "spName":"滷排骨",
       "spPrice":45,
       "spCalories":300,
       "spColdHot":53,
       "spHealth":76,
       "spClass":1,
       "spInfo":"寶島食堂使用帶有軟骨的豬小排，是厚塊狀，不是薄薄一片的那種排骨，滷的軟嫩，骨肉能輕鬆分離，軟骨也保有脆脆口感和滿滿膠質。",
       "spImage":"./images/bandon_include/Pork.png",
       "spMeat":1,
       "spStatus":1
    },
    {
       "spId":1006,
       "spName":"清蒸鱈魚",
       "spPrice":45,
       "spCalories":130,
       "spColdHot":15,
       "spHealth":96,
       "spClass":1,
       "spInfo":"深海魚富含歐米伽3不飽和脂肪酸，而且魚肉細嫩鮮美，無大骨刺。好吃營養的深海魚，對大腦、身體成長發育有輔助作用。來自阿拉斯加的銀鱈魚作為優質深海魚，深海油脂含量特別豐富，鮮嫩美味。",
       "spImage":"./images/order/fish.jpg",
       "spMeat":1,
       "spStatus":1
    },
    {
       "spId":1007,
       "spName":"蔥爆牛柳",
       "spPrice":45,
       "spCalories":330,
       "spColdHot":73,
       "spHealth":14,
       "spClass":1,
       "spInfo":"島食堂嚴選牛里脊肉，是切割自牛背部的柔嫩瘦肉，適合燒烤。牛肉蛋白質含量高，而脂肪含量低，葱是一种很普遍的调味品或蔬菜，在炒菜前將它和薑切碎一起下油鍋中炒至金黄後再將其他蔬菜倒入鍋中炒。",
       "spImage":"./images/order/beef.jpg",
       "spMeat":1,
       "spStatus":1
    },
    {
       "spId":1008,
       "spName":"竹筍炒肉絲",
       "spPrice":20,
       "spCalories":300,
       "spColdHot":25,
       "spHealth":24,
       "spClass":2,
       "spInfo":"豬肉具有滋陰、潤燥的功能。竹筍有袪熱化痰、解渴益氣、爽胃等功效。肥胖症、脂肪肝、皮脂腺囊腫患者宜常吃此菜。對糖尿病、水腫、積食、便秘、積痰、咳嗽、瘡瘍等症有輔助療效。",
       "spImage":"./images/bandon_include/bambomeet.jpg",
       "spMeat":1,
       "spStatus":1
    },
    {
       "spId":1009,
       "spName":"清蒸毛豆",
       "spPrice":20,
       "spCalories":100,
       "spColdHot":49,
       "spHealth":83,
       "spClass":2,
       "spInfo":"毛豆，在一般料理中算是蔬菜類，但營養價值卻是「豆魚肉蛋類」的豆類，蛋白質含量高於一般蔬菜，同時兼具豆類及蔬菜兩者營養特性，是不可多得的健康好物！",
       "spImage":"./images/bandon_include/beens.jpg",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1010,
       "spName":"番茄炒蛋",
       "spPrice":20,
       "spCalories":120,
       "spColdHot":22,
       "spHealth":87,
       "spClass":2,
       "spInfo":"番茄炒蛋不僅好吃，連配色都很鮮豔，一看就讓人食指大動！紅通通的大番茄含有豐富的茄紅素、維生素C、膳食纖維等營養，是很棒的蔬菜，尤其是它特有的茄紅素，是一種天然色素，不但使番茄呈現討喜的鮮紅色，還具有很強的抗氧化功能，可以降低身體的氧化傷害，保持健康與美麗。",
       "spImage":"./images/bandon_include/tomatoEgg.png",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1011,
       "spName":"花椰菜炒蝦仁",
       "spPrice":20,
       "spCalories":280,
       "spColdHot":27,
       "spHealth":76,
       "spClass":2,
       "spInfo":"青花菜是十字花科蔬菜，營養價值非常高，是超級食物之一。青花菜放入沸水快速汆燙撈起，營養不流失，搭配蝦仁拌炒就是一道色香味俱全的料理。",
       "spImage":"./images/bandon_include/friedShrimp.png",
       "spMeat":1,
       "spStatus":1
    },
    {
       "spId":1012,
       "spName":"麻婆豆腐",
       "spPrice":20,
       "spCalories":310,
       "spColdHot":96,
       "spHealth":11,
       "spClass":2,
       "spInfo":"豆腐營養價值高，除了含有優質蛋白質外，還含有豐富的鈣質、維生素E、卵磷脂及半胱胺酸等營養素。豆腐的大豆蛋白，因為沒有肉類所含的脂肪及膽固醇，所以是護心、瘦身之選。",
       "spImage":"./images/bandon_include/spicytofood.png",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1013,
       "spName":"蠔油青江菜",
       "spPrice":20,
       "spCalories":240,
       "spColdHot":33,
       "spHealth":55,
       "spClass":2,
       "spInfo":"青江菜營養價值高，可以保持血管彈性，提供人體所需礦物質、維生素；維生素B2尤為豐富，有抑制潰瘍的作用，經常食用對皮膚和眼睛的保養有很好的效果；富含纖維，可以有效改善便秘。",
       "spImage":"./images/bandon_include/spoonVeg.png",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1014,
       "spName":"三杯杏鮑菇",
       "spPrice":20,
       "spCalories":230,
       "spColdHot":68,
       "spHealth":78,
       "spClass":2,
       "spInfo":"杏鮑菇營養豐富，富含蛋白質、碳水化合物、維生素及鈣、鎂、銅、鋅等礦物質，可以提高人體免疫功能，對人體具有抗癌、降血脂、潤腸胃以及美容等作用。",
       "spImage":"./images/bandon_include/kingMushroom.png",
       "spMeat":0,
       "spStatus":1
    },
    {
       "spId":1015,
       "spName":"馬鈴薯咖哩",
       "spPrice":20,
       "spCalories":180,
       "spColdHot":73,
       "spHealth":74,
       "spClass":2,
       "spInfo":"咖哩常見於印度、泰國和日本料理，常和飯一同享用，不僅口感濃郁，讓人吃起來有滿足感，而且營養豐富。咖哩中的薑黃堪稱「印度維他命」，其抗氧化能力高過維他命E、C。",
       "spImage":"./images/bandon_include/curry.png",
       "spMeat":0,
       "spStatus":1
    }
 ]

let orderRice=[];
let orderMeat=[];
let orderSingle=[];


for(var j=0; j<sgproduct.length;j++){

    if(sgproduct[j].spClass==0){
        orderRice.push(sgproduct[j]);
    }
    if(sgproduct[j].spClass==1){
        orderMeat.push(sgproduct[j]);
    }
    if(sgproduct[j].spClass==2){
        orderSingle.push(sgproduct[j]);
    }
}



let icon =[{
    id:"1",
    img:'./images/order/rice.png',
    text:"米飯"
},
{
    id:"2",
    img:'./images/order/meat.svg',
    text:"主食"
},
{
    id:"3",
    img:'./images/order/dish.png',
    text:"配菜"
}]





let orderSetdo=[
    {
       "setId":1001,
       "setName":"鱈魚便當",
       "setPrice":130,
       "setCalories":800,
       "setColdHot":21,
       "setHealth":96,
       "setClass":0,
       "setImage":"./images/bandon_include/setdo1.jpg",
       "setInfo":"寶島食堂嚴選冰島鱈魚，無細刺，肉質滑嫩鮮甜，如雪花般入口即化的綿密感魚肉更富含OMEGA-3即DHA、EPA適合成長中的孩子食用。"
    },
    {
       "setId":1002,
       "setName":"雞腿便當",
       "setPrice":110,
       "setCalories":1200,
       "setColdHot":83,
       "setHealth":18,
       "setClass":0,
       "setImage":"./images/bandon_include/setdo2.jpg",
       "setInfo":"很多人說寶島食堂的雞腿很好吃，汁非常多，肉鮮美不柴，外皮金黃酥脆，那是因為我們池上木片便當使用了國產黃金雞，最後再經由師傅的油炸功力讓一隻金黃酥脆多汁又鮮嫩的雞腿能夠送到您的手中。"
    },
    {
       "setId":1003,
       "setName":"滷排骨便當",
       "setPrice":100,
       "setCalories":1000,
       "setColdHot":83,
       "setHealth":98,
       "setClass":0,
       "setImage":"./images/bandon_include/setdo3.jpg",
       "setInfo":"寶島食堂獨特的排骨醃料配方，醃料採用數十種配料，醃製入味，再採用大吟釀醬油的醬汁滷出新味道，軟嫩可口。"
    },
    {
       "setId":1004,
       "setName":"炸豬排便當",
       "setPrice":140,
       "setCalories":1000,
       "setColdHot":96,
       "setHealth":63,
       "setClass":1,
       "setImage":"./images/bandon_include/active1.jpg",
       "setInfo":"獨特的里肌醃料配方，當日醃製完畢即放入冷凍庫並在隔日清晨直送各店家，油炸後香濃可口，且無骨，適合小孩子食用。古法秘製，真空加速入味，裹上一層白面紗進入油炸鍋，3分鐘起鍋金黃外皮，肉質扎實"
    },
    {
       "setId":1005,
       "setName":"香腸便當",
       "setPrice":120,
       "setCalories":1600,
       "setColdHot":57,
       "setHealth":44,
       "setClass":1,
       "setImage":"./images/bandon_include/active2.jpg",
       "setInfo":"使用乾淨的冷油下去油炸，外觀紅潤有光澤，內部更是口感扎實，不禁讓人懷念起兒時的好味道。"
    },
    {
       "setId":1006,
       "setName":"鮭魚便當",
       "setPrice":120,
       "setCalories":600,
       "setColdHot":41,
       "setHealth":89,
       "setClass":1,
       "setImage":"./images/bandon_include/active3.jpg",
       "setInfo":"鮭魚飯便當：嚴選智利紅鮭，令人食指大動的粉橘色魚肉咬下去清爽健康的魚油在口腔裡娉然散開餘韻纏繞，欲罷不能，一口接著一口！非常適合正在發育的小朋友品嘗。"
    }
 ]







let other=[
    {
       opId:'1001',
       opName:"薑母茶",
       opPrice:'60',
       opClass:'0',
       opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1002',
       opName:"蔬果汁",
       opPrice:'45',
       opClass:'0',
       opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1003',
       opName:"綠茶",
       opPrice:'25',
       opClass:'0',
       opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1004',
       opName:"鳳梨",
       opPrice:'30',
       opClass:'1',
        opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1005',
       opName:"西瓜",
       opPrice:'30',
       opClass:'1',
       opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1006',
       opName:"蘋果",
       opPrice:'30',
       opClass:'1',
       opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1007',
        opName:"益生菌",
       opPrice:'80',
       opClass:'2',
       opImage:"https://fakeimg.pl/100/"
    },
    {
       opId:'1008',
       opName:"人參雞精",
       opPrice:'80',
       opClass:'2',
       opImage:"https://fakeimg.pl/100/"
    }
 ]


var orderOther = new Vue({
    el:'#orderOther',
    data:{
        selectedone: 1,
        selectedtwo: 1,
        selectedthree: 1,
        othercount1:0,
        othercount2:0,
        othercount3:0,
        other,
    },methods:{
        otherplus:function(){
            orderOther.$data.othercount1++;
        },
        otherminus:function(){
            if(orderOther.$data.othercount1>0){
            orderOther.$data.othercount1--;
            }
        },
        otherplus2:function(){
            orderOther.$data.othercount2++;
        },
        otherminus2:function(){
            if(orderOther.$data.othercount2>0){
            orderOther.$data.othercount2--;
            }
        },
        otherplus3:function(){
            orderOther.$data.othercount3++;
        },
        otherminus3:function(){
            if(orderOther.$data.othercount3>0){
            orderOther.$data.othercount3--;
            }
        },
        otherincart:function(){
            console.log(this.dataset.id);
        }

    }, 
})


var app = new Vue({
    el:'#buy_app',  
    data:{
        orderRice,
        orderMeat,
        orderSingle,

    },methods:{
       
    }, 
})
var app2 = new Vue({
    el:'#buy_app2',  
    data:{
        icon
    },methods:{
        
    },
})

var app3 = new Vue({
    el:'#buy_app3',  
    data:{
        orderSetdo,
    }
})

document.getElementById('otherCart').addEventListener('click',otherIncart);
document.getElementById('otherCart2').addEventListener('click',otherIncart);
document.getElementById('otherCart3').addEventListener('click',otherIncart);




function otherIncart(){
    otherright = 0;
   let A = this.dataset.id;
   console.log(A);
   for(var i = 0; i<other.length ;i++ ){
       if(other[i].opId == Number(A)){
           otherright=1;
           otherImg =other[i].opImage;
           otherId = other[i].opId;
           otherName = other[i].opName;
           otherPrice = other[i].opPrice;
           if(other[i].opClass == 0){
           otherMany  = orderOther.$data.othercount1;
           }else if(other[i].opClass == 1){
            otherMany  = orderOther.$data.othercount2;
           }else if(other[i].opClass == 2){
            otherMany  = orderOther.$data.othercount3;   
           }
           console.log(otherMany);
           if(otherMany==0){
               alert('還沒選數量喔')
           }
       }
      
   }
            if(otherright==0){
                 alert('請選擇品項喔')
             }

        if(otherright!==0 && otherMany!==0){

            otherList={
                otherImg:`${otherImg}`,
                otherId:`${otherId}`,
                otherName:`${otherName}`,
                otherPrice:`${otherPrice}`,
                otherMany:`${otherMany}`,
            }
            var othersamename = 0;
            if(otherMenu.length>0){
                 for(var c =0  ;c < otherMenu.length; c++){
                        if(otherMenu[c].otherName == otherList.otherName){
                            othersamename=1;
                            otherMenu[c].otherMany = parseInt(otherMenu[c].otherMany)+parseInt(otherList.otherMany);
                        } 
                 }
                if(othersamename!=1){
                    otherMenu.push(otherList);
                   
                }
            }
            else
            {
                otherMenu.push(otherList);
            }

           otherOrder = JSON.stringify(otherMenu);
           localStorage.setItem('otherOrder',otherOrder);

           setordercart();
        }
 
}

//錨點 js

document.getElementsByClassName('1')[0].addEventListener('click',view)
function view(){
    document.getElementById('order_1').scrollIntoView();
}
document.getElementsByClassName('2')[0].addEventListener('click',view2)
function view2(){
    document.getElementById('order_2').scrollIntoView();
}
document.getElementsByClassName('3')[0].addEventListener('click',view3)
function view3(){
    document.getElementById('order_3').scrollIntoView();
}
document.getElementsByClassName('4')[0].addEventListener('click',view4)
function view4(){
    document.getElementById('order_4').scrollIntoView();
}


document.getElementById('ordertitle1').addEventListener('click',riceshow)
document.getElementById('ordertitle1').addEventListener('click',ricescale)
document.getElementById('ordertitle2').addEventListener('click',meatshow)
document.getElementById('ordertitle2').addEventListener('click',imgscale1)
document.getElementById('ordertitle3').addEventListener('click',singleshow)
document.getElementById('ordertitle3').addEventListener('click',imgscale2)


document.getElementById('meat').style.display="none";
document.getElementById('single').style.display="none";

for(var j=0; j < orderRice.length;j++){   //rice 的 click事件
    document.getElementById(`riceimg${orderRice[j].spId}`).addEventListener('click',ricelightBox)
    document.getElementById(`plus${orderRice[j].spId}`).addEventListener('click',meatshow)
    document.getElementById(`plus${orderRice[j].spId}`).addEventListener('click',imgscale1)
    document.getElementById(`plus${orderRice[j].spId}`).addEventListener('click',riceincart)
}


for(var j=0; j < orderMeat.length;j++){  //meat 的 click事件
    document.getElementById(`meatimg${orderMeat[j].spId}`).addEventListener('click',meatlightBox)
    document.getElementById(`meatplus${orderMeat[j].spId}`).addEventListener('click',singleshow)
    document.getElementById(`meatplus${orderMeat[j].spId}`).addEventListener('click',imgscale2)
    document.getElementById(`meatplus${orderMeat[j].spId}`).addEventListener('click',meatincart)
}

for(var j=0; j < orderSingle.length;j++){  //自選 的 click事件
    document.getElementById(`singleplus${orderSingle[j].spId}`).addEventListener('click',singleincart)
    document.getElementById(`img${orderSingle[j].spId}`).addEventListener('click',lightBox)
}

for(var j=0; j < orderSetdo.length;j++){   //套餐燈箱 click 事件
    document.getElementById(`setdoimg${orderSetdo[j].setId}`).addEventListener('click',setdolightBox)
}



// 米飯lightbox js

function setdolightBox(){
    document.getElementsByClassName('box3')[0].style.display='block';
    document.getElementsByClassName('box3')[1].style.display='block';
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i<orderSetdo.length;i++){
        if(orderSetdo[i].setId == Number(A)){
            document.getElementById('setdolightTitle').innerText = orderSetdo[i].setName;
            document.getElementById('setdolightImg').src = orderSetdo[i].setImage;
            document.getElementById('setdolightText').innerText = orderSetdo[i].setInfo;
        }
    }
}
document.getElementsByClassName('closelightbox3')[0].addEventListener('click',closelightbox3)
function closelightbox3(){ 
    document.getElementsByClassName('box3')[0].style.display='none';
    document.getElementsByClassName('box3')[1].style.display='none';
}

function ricelightBox(){
    document.getElementsByClassName('box1')[0].style.display='block';
    document.getElementsByClassName('box1')[1].style.display='block';
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i<orderRice.length;i++){
        if(orderRice[i].spId == Number(A)){  orderlighttitle
            document.getElementById('orderlighttitle').innerText = orderRice[i].spName;
            document.getElementById('lightImg').src = orderRice[i].spImage;
            document.getElementById('lightText').innerText = orderRice[i].spInfo;
        }
    }
}
document.getElementsByClassName('closelightbox1')[0].addEventListener('click',closelightBox1)
function closelightBox1(){ 
    document.getElementsByClassName('box1')[0].style.display='none';
    document.getElementsByClassName('box1')[1].style.display='none';
}


function meatlightBox(){
    document.getElementsByClassName('box0')[0].style.display='block';
    document.getElementsByClassName('box0')[1].style.display='block';
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i<orderMeat.length;i++){
        if(orderMeat[i].spId == Number(A)){
            document.getElementById('meatlightTitle').innerText = orderMeat[i].spName;
            document.getElementById('meatlightImg').src = orderMeat[i].spImage;
            document.getElementById('meatlightText').innerText = orderMeat[i].spInfo;
        }
    }
}
document.getElementsByClassName('closelightbox0')[0].addEventListener('click',closelightBox0)
function closelightBox0(){ 
    document.getElementsByClassName('box0')[0].style.display='none';
    document.getElementsByClassName('box0')[1].style.display='none';
}

function lightBox(){
    document.getElementsByClassName('box2')[0].style.display='block';
    document.getElementsByClassName('box2')[1].style.display='block';
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i<orderSingle.length;i++){
        if(orderSingle[i].spId == Number(A)){
            document.getElementById('lightTitle').innerText = orderSingle[i].spName;
            document.getElementById('lightImg2').src = orderSingle[i].spImage;
            document.getElementById('lightText2').innerText = orderSingle[i].spInfo;
        }
    }
}
document.getElementsByClassName('closelightbox2')[0].addEventListener('click',closelightBox2)
function closelightBox2(){ 
    document.getElementsByClassName('box2')[0].style.display='none';
    document.getElementsByClassName('box2')[1].style.display='none';
}







function riceincart(){
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i<orderRice.length;i++){
        if(orderRice[i].spId == Number(A)){
     
            var ricename = orderRice[i].spName;
            var ricetext = orderRice[i].spInfo;
            var riceimg  = orderRice[i].spImage;
            var riceprice = orderRice[i].spPrice;
        }
    }
    localStorage.setItem('ricename', ricename);
    localStorage.setItem('ricetext', ricetext);
    localStorage.setItem('riceimg', riceimg);
    localStorage.setItem('riceprice', riceprice);
    var listrice = localStorage.getItem('ricename');
    var listriceprice = localStorage.getItem('riceprice');
    document.getElementById('list_ricename').innerText = `${listrice}`;
    document.getElementById('list_riceNum').innerText =`x1`;
    document.getElementById('list_ricenamePrice').innerText=`NT$${listriceprice}`;
    document.getElementById('orderRicePic').src = `${riceimg}`;

}


function meatincart(){
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i < orderMeat.length; i++){
        if(orderMeat[i].spId == Number(A)){
            var meatname = orderMeat[i].spName;
            var meattext = orderMeat[i].spInfo;
            var meatimg  = orderMeat[i].spImage;
            var meatprice = orderMeat[i].spPrice;
        }
    }
    localStorage.setItem('meatname', meatname);
    localStorage.setItem('meattext', meattext);
    localStorage.setItem('meatimg', meatimg);
    localStorage.setItem('meatprice', meatprice);
    var listmeat = localStorage.getItem('meatname');
    var listmeatprice = localStorage.getItem('meatprice');
    document.getElementById('list_meatname').innerText = `${listmeat}`;
    document.getElementById('list_meatNum').innerText=`x1`;
    document.getElementById('list_meatPrice').innerText=`NT$${listmeatprice}`
    document.getElementById('orderMeatPic').src = `${meatimg}`;
}

var singlecount = 0;
function singleincart() 
 {
    singlecount++;
    if(singlecount<4)
    {
            let A = this.dataset.id;
            console.log(A);
        for(let i = 0;i<orderSingle.length;i++)
        {
            if(orderSingle[i].spId == Number(A))
            {
                 var singlename = orderSingle[i].spName;
                 var singletext = orderSingle[i].spInfo;
                 var singleimg  = orderSingle[i].spImage;
                 var singleprice = orderSingle[i].spPrice;
            }
        }
                localStorage.setItem( 'singlename'+`${singlecount}`  , singlename);
                localStorage.setItem('singletext'+`${singlecount}`, singletext);
                localStorage.setItem('singleimg'+`${singlecount}`, singleimg);
                localStorage.setItem('singleprice'+`${singlecount}`, singleprice);
                var listsingle = localStorage.getItem('singlename'+`${singlecount}`);
                var listsingleprice = localStorage.getItem('singleprice'+`${singlecount}`);
                document.getElementById('list_singlename'+`${singlecount}`).innerText = `${listsingle}`;
                document.getElementById('list_singleNum'+`${singlecount}`).innerText=`x1`
                document.getElementById('list_singlePrice'+`${singlecount}`).innerText=`NT$${listsingleprice}`
                document.getElementById('orderSinglPic'+`${singlecount}`).src =`${singleimg}`;
    }else
    {
        alert('只能選三道配菜喔');
    }
 }


//nav 的大小
function imgscale1(){
    document.getElementById('ordertitle1').style.transform = "scale(1)";
    document.getElementById('ordertitletext1').style.color = "#000000";
    document.getElementById('ordertitle2').style.transform = "scale(1.5)";
    document.getElementById('ordertitletext2').style.color = "#EA6227";
    document.getElementById('ordertitle3').style.transform = "scale(1)";
    document.getElementById('ordertitletext3').style.color = "#000000";
     
 }
function imgscale2(){
    document.getElementById('ordertitle1').style.transform = "scale(1)";
    document.getElementById('ordertitletext1').style.color = "#000000";
    document.getElementById('ordertitle2').style.transform = "scale(1)";
    document.getElementById('ordertitletext2').style.color = "#000000";
    document.getElementById('ordertitle3').style.transform = "scale(1.5)";
    document.getElementById('ordertitletext3').style.color = "#EA6227";
     
 }
function ricescale(){
    document.getElementById('ordertitle1').style.transform = "scale(1.5)";
    document.getElementById('ordertitletext1').style.color = "#EA6227";
    document.getElementById('ordertitle2').style.transform = "scale(1)";
    document.getElementById('ordertitletext2').style.color = "#000000";
    document.getElementById('ordertitle3').style.transform = "scale(1)";
    document.getElementById('ordertitletext3').style.color = "#000000";
     
}

//自選換頁
 function riceshow(){
    document.getElementById('meat').style.display="none";
    document.getElementById('single').style.display="none";
    document.getElementById('rice').style.display="flex";
    // document.getElementById('rice').style.width="1200px";
    // document.getElementById('rice').style.height="400px";
    document.getElementById('rice').style.overflowY="auto";
    document.getElementById('rice').style.overflowx=" hidden";
    document.getElementById('rice').style.flexWrap="wrap";
    document.getElementById('rice').style.justifyContent="space-between";
    document.getElementById('order_text').innerText="請選擇一道米飯";
}
function meatshow(){
    document.getElementById('rice').style.display="none";
    document.getElementById('single').style.display="none";
    document.getElementById('meat').style.display="flex";
    // document.getElementById('meat').style.width="1200px";
    // document.getElementById('meat').style.height="400px";
    document.getElementById('meat').style.overflowY="auto";
    document.getElementById('meat').style.overflowx=" hidden";
    document.getElementById('meat').style.flexWrap="wrap";
    document.getElementById('meat').style.justifyContent="space-between";
    document.getElementById('order_text').innerText="請選擇一道主食";
}
function singleshow(){
    document.getElementById('meat').style.display="none";
    document.getElementById('rice').style.display="none";
    document.getElementById('single').style.display="flex";
    // document.getElementById('single').style.width="1200px";
    // document.getElementById('single').style.height="400px";
    document.getElementById('single').style.overflowY="auto";
    document.getElementById('single').style.overflowx=" hidden";
    document.getElementById('single').style.flexWrap="wrap";
    document.getElementById('single').style.justifyContent="space-between";
    document.getElementById('order_text').innerText="請任選三道配菜(可重複)";
   
}




//購物車

document.getElementById('incart').addEventListener('click',shoppcar);




let setdocount=[];
for(var j=0; j < orderSetdo.length;j++){    //套餐的+- 購物車   click事件
    setdocount[orderSetdo[j].setId]=0;
    document.getElementById(`setdocountplus${orderSetdo[j].setId}`).addEventListener('click',setdoplus)
    document.getElementById(`setdocountminus${orderSetdo[j].setId}`).addEventListener('click',setdominus)
    document.getElementById(`setdocart${orderSetdo[j].setId}`).addEventListener('click',setdoCart)
}     


function setdoplus(){     //套餐數量++
    let num = this.dataset.num
    setdocount[num]++;
    console.log(setdocount[num]);
    document.getElementById(`setdocount${num}`).innerText = setdocount[num];
}
   
function setdominus(){    //套餐數量--
    let num = this.dataset.num
    if(setdocount[num]>0){
    setdocount[num]--;
    console.log(setdocount[num]);
    document.getElementById(`setdocount${num}`).innerText = setdocount[num];
    }

}




function shoppcar(){              //自選的加入購物車

    var rice = localStorage.getItem('ricename');
    var riceprice = localStorage.getItem('riceprice')
    var meat = localStorage.getItem('meatname');
    var meatprice = localStorage.getItem('meatprice');
    var single1 = localStorage.getItem('singlename1');
    var singleprice1 = localStorage.getItem('singleprice1');
    var single2 = localStorage.getItem('singlename2');
    var singleprice2 = localStorage.getItem('singleprice2');
    var single3 = localStorage.getItem('singlename3');
    var singleprice3 = localStorage.getItem('singleprice3');
    var soPrice = parseInt(riceprice)+parseInt(meatprice)+parseInt(singleprice1)+parseInt(singleprice2)+parseInt(singleprice3);

var singleorder= {
    sNum:`${singleNum}`,
    rice:`${rice}`,
    meat:`${meat}`,
    single1:`${single1}`,
    single2:`${single2}`,
    single3:`${single3}`,
    soPrice:`${soPrice}`
 }
if(rice!==null && meat!== null && single1!==null  && single2!==null  && single3!==null){
    singleNum++;
    localStorage.setItem('singleNum',singleNum);
 orderCart.push(singleorder);

//  for(let i=0; i<orderCart.length; i++){
//     console.log(orderCart[i]);
//  }
   
 singlecount = 0;

 document.getElementById('list_ricename').innerText = '';
 document.getElementById('list_riceNum').innerText = '';
 document.getElementById('list_ricenamePrice').innerText = '';

 document.getElementById('list_meatname').innerText = '';
 document.getElementById('list_meatNum').innerText = '';
 document.getElementById('list_meatPrice').innerText = '';
 document.getElementById('list_singlename1').innerText = '';
 document.getElementById('list_singleNum1').innerText = '';
 document.getElementById('list_singleNum2').innerText = '';
 document.getElementById('list_singleNum3').innerText = '';
 document.getElementById('list_singlePrice1').innerText = '';
 document.getElementById('list_singlePrice2').innerText = '';
 document.getElementById('list_singlePrice3').innerText = '';
 document.getElementById('list_singlename2').innerText = '';
 document.getElementById('list_singlename3').innerText = '';

 document.getElementById('orderRicePic').src = ``;
 document.getElementById('orderMeatPic').src = ``;
 document.getElementById('orderSinglPic1').src = ``;
 document.getElementById('orderSinglPic2').src = ``;
 document.getElementById('orderSinglPic3').src = ``;

 var singleOrder = JSON.stringify(orderCart);
 localStorage.setItem('singleOrder', singleOrder);



//------------------
setcart();




 localStorage.removeItem('ricename');
 localStorage.removeItem('meatname');
 localStorage.removeItem('singlename1');
 localStorage.removeItem('singlename2'); 
 localStorage.removeItem('singlename3');





 
 riceshow();

//  window.location.reload();
 }else{
     alert('請把便當裝滿喔')
 }
}




function setdoCart(){      //套餐的加入購物車
    let A = this.dataset.id;
    console.log(A);
    for(let i = 0;i<orderSetdo.length;i++){
        if(orderSetdo[i].setId == Number(A)){
            setdoMany =  document.getElementById(`setdocount${A}`).innerText;
            setdoId = orderSetdo[i].setId;
            setdoName = orderSetdo[i].setName;
            setdoPrice = orderSetdo[i].setPrice;
            setdoImg = orderSetdo[i].setImage;
            if(setdoMany>0){

                setdoList=
                {
                    setdoNum:`${setdoNum}`,
                    setdoMany:`${setdoMany}`,
                    setdoId:`${setdoId}`,
                    setdoName:`${setdoName}`,
                    setdoPrice:`${setdoPrice}`,
                    setdoImg:`${setdoImg}`,
                }

                var samename = 0;
                if(setdoMenu.length>0){
                     for(var c =0  ;c < setdoMenu.length; c++){
                            if(setdoMenu[c].setdoName == setdoList.setdoName){
                                samename=1;
                            setdoMenu[c].setdoMany = parseInt(setdoMenu[c].setdoMany)+parseInt(setdoList.setdoMany);
                            } 
                     }
                    if(samename!=1){
                        setdoMenu.push(setdoList);
                
                    }
                }
                else
                {
                   
                    setdoMenu.push(setdoList);
                  
                }
               
                var setdoMenuList =JSON.stringify(setdoMenu);
                localStorage.setItem('setdoMenuList',setdoMenuList);

               
               setsetdocart();
            }else{
                alert("還沒選數量喔");
            }
        }
    }
}


